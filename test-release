timestamps {

  properties([pipelineTriggers([githubPush()])])

node ('worker') {
  try {
    stage ('clean previous workspace') {
        cleanWs()
    }

    stage ('freestyle-tag - Checkout') {
      checkout([$class: 'GitSCM', branches: [[name: '**/tags/**']], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'RelativeTargetDirectory', relativeTargetDir: 'capp-faq-uk']], submoduleCfg: [], userRemoteConfigs: [[credentialsId: '08d46abd-a890-4ccb-95ea-de76c852dae2', url: 'git@github.com:ltaa/hooktest.git']]])
    }

    stage ('build') {
      sh "node --version"
      sh "npm --version"
      sh "ls -la"
    }


    } catch (e) {
      cleanWs()
    }

    stage ('clean workspace') {
      cleanWs()
    }
  }
}
